import{c as et,$ as ot,a as R,r as l,b as rt,_ as y,d as E,e as at,f as F,g as nt,h as st,i as it,j as lt,k as d,l as L,m as P,n as ct,u as dt,S as A,o as _,p as M,q as W,s as T,V as ut,B as ht}from"./index-DcRyME2P.js";import{P as pt}from"./pie-chart-9wJAhD6G.js";/**
 * @license lucide-react v0.354.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=et("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),k="Tabs",[ft,Yt]=ot(k,[R]),B=R(),[mt,z]=ft(k),bt=l.forwardRef((n,r)=>{const{__scopeTabs:t,value:e,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:s,activationMode:h="automatic",...c}=n,u=st(s),[p,f]=it({prop:e,onChange:o,defaultProp:a});return l.createElement(mt,{scope:t,baseId:lt(),value:p,onValueChange:f,orientation:i,dir:u,activationMode:h},l.createElement(E.div,y({dir:u,"data-orientation":i},c,{ref:r})))}),Ct="TabsList",vt=l.forwardRef((n,r)=>{const{__scopeTabs:t,loop:e=!0,...o}=n,a=z(Ct,t),i=B(t);return l.createElement(rt,y({asChild:!0},i,{orientation:a.orientation,dir:a.dir,loop:e}),l.createElement(E.div,y({role:"tablist","aria-orientation":a.orientation},o,{ref:r})))}),xt="TabsTrigger",$t=l.forwardRef((n,r)=>{const{__scopeTabs:t,value:e,disabled:o=!1,...a}=n,i=z(xt,t),s=B(t),h=q(i.baseId,e),c=U(i.baseId,e),u=e===i.value;return l.createElement(at,y({asChild:!0},s,{focusable:!o,active:u}),l.createElement(E.button,y({type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h},a,{ref:r,onMouseDown:F(n.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?i.onValueChange(e):p.preventDefault()}),onKeyDown:F(n.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&i.onValueChange(e)}),onFocus:F(n.onFocus,()=>{const p=i.activationMode!=="manual";!u&&!o&&p&&i.onValueChange(e)})})))}),yt="TabsContent",Tt=l.forwardRef((n,r)=>{const{__scopeTabs:t,value:e,forceMount:o,children:a,...i}=n,s=z(yt,t),h=q(s.baseId,e),c=U(s.baseId,e),u=e===s.value,p=l.useRef(u);return l.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),l.createElement(nt,{present:o||u},({present:f})=>l.createElement(E.div,y({"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":h,hidden:!f,id:c,tabIndex:0},i,{ref:r,style:{...n.style,animationDuration:p.current?"0s":void 0}}),f&&a))});function q(n,r){return`${n}-trigger-${r}`}function U(n,r){return`${n}-content-${r}`}const wt=bt,G=vt,K=$t,H=Tt,Dt=wt,Q=l.forwardRef(({className:n,...r},t)=>d.jsx(G,{ref:t,className:L("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...r}));Q.displayName=G.displayName;const w=l.forwardRef(({className:n,...r},t)=>d.jsx(K,{ref:t,className:L("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...r}));w.displayName=K.displayName;const D=l.forwardRef(({className:n,...r},t)=>d.jsx(H,{ref:t,className:L("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...r}));D.displayName=H.displayName;function Et(n,r,t){l.useEffect(()=>{if(!document)return;const e=document.querySelector('script[src="'.concat(n,'"]'));if(e!=null&&e.dataset.loaded){r==null||r();return}const o=e||document.createElement("script");e||(o.src=n);const a=()=>{o.dataset.loaded="1",r==null||r()};return o.addEventListener("load",a),t&&o.addEventListener("error",t),e||document.head.append(o),()=>{o.removeEventListener("load",a),t&&o.removeEventListener("error",t)}},[])}function Pt(n){let{chartVersion:r="current",chartPackages:t=["corechart","controls"],chartLanguage:e="en",mapsApiKey:o}=n;const[a,i]=l.useState(null),[s,h]=l.useState(!1);return Et("https://www.gstatic.com/charts/loader.js",()=>{const c=window==null?void 0:window.google;c&&(c.charts.load(r,{packages:t,language:e,mapsApiKey:o}),c.charts.setOnLoadCallback(()=>{i(c)}))},()=>{h(!0)}),[a,s]}function St(n){let{onLoad:r,onError:t,...e}=n;const[o,a]=Pt(e);return l.useEffect(()=>{o&&r&&r(o)},[o]),l.useEffect(()=>{a&&t&&t()},[a]),null}const Y={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}};let N=0;const It=()=>(N+=1,"reactgooglegraph-".concat(N)),Ft=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],Lt=async function(n,r){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((e,o)=>{const a="".concat(t.headers?"headers=".concat(t.headers):"headers=0"),i="".concat(t.query?"&tq=".concat(encodeURIComponent(t.query)):""),s="".concat(t.gid?"&gid=".concat(t.gid):""),h="".concat(t.sheet?"&sheet=".concat(t.sheet):""),c="".concat(t.access_token?"&access_token=".concat(t.access_token):""),u="".concat(a).concat(s).concat(h).concat(i).concat(c),p="".concat(r,"/gviz/tq?").concat(u);new n.visualization.Query(p).send(C=>{C.isError()?o("Error in query:  ".concat(C.getMessage()," ").concat(C.getDetailedMessage())):e(C.getDataTable())})})},{Provider:zt,Consumer:jt}=l.createContext(Y),At=n=>{let{children:r,value:t}=n;return l.createElement(zt,{value:t},r)},J=n=>{let{render:r}=n;return l.createElement(jt,null,t=>r(t))},_t="#CCCCCC";class Mt extends l.Component{componentDidMount(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}componentWillUnmount(){const{google:r,googleChartWrapper:t}=this.props;window.removeEventListener("resize",this.onResize),r.visualization.events.removeAllListeners(t),t.getChartType()==="Timeline"&&t.getChart()&&t.getChart().clearChart()}componentDidUpdate(){this.draw(this.props)}render(){return null}constructor(...r){super(...r),this.state={hiddenColumns:[]},this.listenToLegendToggle=()=>{const{google:t,googleChartWrapper:e}=this.props;t.visualization.events.addListener(e,"select",()=>{const a=e.getChart().getSelection(),i=e.getDataTable();if(a.length===0||a[0].row||!i)return;const s=a[0].column,h=this.getColumnID(i,s);this.state.hiddenColumns.includes(h)?this.setState(c=>({...c,hiddenColumns:[...c.hiddenColumns.filter(u=>u!==h)]})):this.setState(c=>({...c,hiddenColumns:[...c.hiddenColumns,h]}))})},this.applyFormatters=(t,e)=>{const{google:o}=this.props;for(let a of e)switch(a.type){case"ArrowFormat":{new o.visualization.ArrowFormat(a.options).format(t,a.column);break}case"BarFormat":{new o.visualization.BarFormat(a.options).format(t,a.column);break}case"ColorFormat":{const i=new o.visualization.ColorFormat(a.options),{ranges:s}=a;for(let h of s)i.addRange(...h);i.format(t,a.column);break}case"DateFormat":{new o.visualization.DateFormat(a.options).format(t,a.column);break}case"NumberFormat":{new o.visualization.NumberFormat(a.options).format(t,a.column);break}case"PatternFormat":{new o.visualization.PatternFormat(a.options).format(t,a.column);break}}},this.getColumnID=(t,e)=>t.getColumnId(e)||t.getColumnLabel(e),this.draw=async t=>{let{data:e,diffdata:o,rows:a,columns:i,options:s,legend_toggle:h,legendToggle:c,chartType:u,formatters:p,spreadSheetUrl:f,spreadSheetQueryParameters:C}=t;const{google:b,googleChartWrapper:m}=this.props;let g,x=null;if(o){const v=b.visualization.arrayToDataTable(o.old),I=b.visualization.arrayToDataTable(o.new);x=b.visualization[u].prototype.computeDiff(v,I)}e!==null?Array.isArray(e)?g=b.visualization.arrayToDataTable(e):g=new b.visualization.DataTable(e):a&&i?g=b.visualization.arrayToDataTable([i,...a]):f?g=await Lt(b,f,C):g=b.visualization.arrayToDataTable([]);const $=g.getNumberOfColumns();for(let v=0;v<$;v+=1){const I=this.getColumnID(g,v);if(this.state.hiddenColumns.includes(I)){const X=g.getColumnLabel(v),Z=g.getColumnId(v),tt=g.getColumnType(v);g.removeColumn(v),g.addColumn({label:X,id:Z,type:tt})}}const j=m.getChart();m.getChartType()==="Timeline"&&j&&j.clearChart(),m.setChartType(u),m.setOptions(s||{}),m.setDataTable(g),m.draw(),this.props.googleChartDashboard!==null&&this.props.googleChartDashboard.draw(g),x&&(m.setDataTable(x),m.draw()),p&&(this.applyFormatters(g,p),m.setDataTable(g),m.draw()),(c===!0||h===!0)&&this.grayOutHiddenColumns({options:s})},this.grayOutHiddenColumns=t=>{let{options:e}=t;const{googleChartWrapper:o}=this.props,a=o.getDataTable();if(!a)return;const i=a.getNumberOfColumns();if(this.state.hiddenColumns.length>0===!1)return;const h=Array.from({length:i-1}).map((c,u)=>{const p=this.getColumnID(a,u+1);return this.state.hiddenColumns.includes(p)?_t:e&&e.colors?e.colors[u]:Ft[u]});o.setOptions({...e,colors:h}),o.draw()},this.onResize=()=>{const{googleChartWrapper:t}=this.props;t.draw()}}}class Wt extends l.Component{componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(){return!1}render(){const{google:r,googleChartWrapper:t,googleChartDashboard:e}=this.props;return l.createElement(J,{render:o=>l.createElement(Mt,Object.assign({},o,{google:r,googleChartWrapper:t,googleChartDashboard:e}))})}}class Nt extends l.Component{shouldComponentUpdate(){return!1}listenToEvents(r){let{chartEvents:t,google:e,googleChartWrapper:o}=r;if(t){e.visualization.events.removeAllListeners(o);for(let i of t){var a=this;const{eventName:s,callback:h}=i;e.visualization.events.addListener(o,s,function(){for(var c=arguments.length,u=new Array(c),p=0;p<c;p++)u[p]=arguments[p];h({chartWrapper:o,props:a.props,google:e,eventArgs:u})})}}}componentDidMount(){var r;const{google:t,googleChartWrapper:e}=this.props;this.listenToEvents({chartEvents:((r=this.propsFromContext)===null||r===void 0?void 0:r.chartEvents)||null,google:t,googleChartWrapper:e})}render(){return this.props,l.createElement(J,{render:r=>(this.propsFromContext=r,null)})}constructor(r){super(r),this.propsFromContext=null}}let O=0;class Ot extends l.Component{componentDidMount(){const{options:r,google:t,chartType:e,chartWrapperParams:o,toolbarItems:a,getChartEditor:i,getChartWrapper:s}=this.props,h={chartType:e,options:r,containerId:this.getGraphID(),...o},c=new t.visualization.ChartWrapper(h);c.setOptions(r||{}),s&&s(c,t);const u=new t.visualization.Dashboard(this.dashboard_ref),p=this.addControls(c,u);a&&t.visualization.drawToolbar(this.toolbar_ref.current,a);let f=null;i&&(f=new t.visualization.ChartEditor,i({chartEditor:f,chartWrapper:c,google:t})),this.setState({googleChartEditor:f,googleChartControls:p,googleChartDashboard:u,googleChartWrapper:c,isReady:!0})}componentDidUpdate(){if(!this.state.googleChartWrapper||!this.state.googleChartDashboard||!this.state.googleChartControls)return;const{controls:r}=this.props;if(r)for(let t=0;t<r.length;t+=1){const{controlType:e,options:o,controlWrapperParams:a}=r[t];a&&"state"in a&&this.state.googleChartControls[t].control.setState(a.state),this.state.googleChartControls[t].control.setOptions(o),this.state.googleChartControls[t].control.setControlType(e)}}shouldComponentUpdate(r,t){return this.state.isReady!==t.isReady||r.controls!==this.props.controls}render(){const{width:r,height:t,options:e,style:o}=this.props,a={height:t||e&&e.height,width:r||e&&e.width,...o};return this.props.render?l.createElement("div",{ref:this.dashboard_ref,style:a},l.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):l.createElement("div",{ref:this.dashboard_ref,style:a},this.renderControl(i=>{let{controlProp:s}=i;return s.controlPosition!=="bottom"}),this.renderChart(),this.renderControl(i=>{let{controlProp:s}=i;return s.controlPosition==="bottom"}),this.renderToolBar())}constructor(...r){var t;super(...r),t=this,this.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},this.graphID=null,this.dashboard_ref=l.createRef(),this.toolbar_ref=l.createRef(),this.getGraphID=()=>{const{graphID:e,graph_id:o}=this.props;let a;return!e&&!o?this.graphID?a=this.graphID:a=It():e&&!o?a=e:o&&!e?a=o:a=e,this.graphID=a,this.graphID},this.getControlID=(e,o)=>{O+=1;let a;return typeof e>"u"?a="googlechart-control-".concat(o,"-").concat(O):a=e,a},this.addControls=(e,o)=>{const{google:a,controls:i}=this.props,s=i?i.map((c,u)=>{const{controlID:p,controlType:f,options:C,controlWrapperParams:b}=c,m=this.getControlID(p,u);return{controlProp:c,control:new a.visualization.ControlWrapper({containerId:m,controlType:f,options:C,...b})}}):null;if(!s)return null;o.bind(s.map(c=>{let{control:u}=c;return u}),e);for(let c of s){const{control:u,controlProp:p}=c,{controlEvents:f=[]}=p;for(let C of f){var h=this;const{callback:b,eventName:m}=C;a.visualization.events.removeListener(u,m,b),a.visualization.events.addListener(u,m,function(){for(var g=arguments.length,x=new Array(g),$=0;$<g;$++)x[$]=arguments[$];b({chartWrapper:e,controlWrapper:u,props:h.props,google:a,eventArgs:x})})}}return s},this.renderChart=()=>{const{width:e,height:o,options:a,style:i,className:s,rootProps:h,google:c}=this.props,u={height:o||a&&a.height,width:e||a&&a.width,...i};return l.createElement("div",Object.assign({id:this.getGraphID(),style:u,className:s},h),this.state.isReady&&this.state.googleChartWrapper!==null?l.createElement(l.Fragment,null,l.createElement(Wt,{googleChartWrapper:this.state.googleChartWrapper,google:c,googleChartDashboard:this.state.googleChartDashboard}),l.createElement(Nt,{googleChartWrapper:this.state.googleChartWrapper,google:c})):null)},this.renderControl=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o=>!0;return t.state.isReady&&t.state.googleChartControls!==null?l.createElement(l.Fragment,null,t.state.googleChartControls.filter(o=>{let{controlProp:a,control:i}=o;return e({control:i,controlProp:a})}).map(o=>{let{control:a,controlProp:i}=o;return l.createElement("div",{key:a.getContainerId(),id:a.getContainerId()})})):null},this.renderToolBar=()=>this.props.toolbarItems?l.createElement("div",{ref:this.toolbar_ref}):null}}class S extends l.Component{render(){const{chartLanguage:r,chartPackages:t,chartVersion:e,mapsApiKey:o,loader:a,errorElement:i}=this.props;return l.createElement(At,{value:this.props},this.state.loadingStatus==="ready"&&this.state.google!==null?l.createElement(Ot,Object.assign({},this.props,{google:this.state.google})):this.state.loadingStatus==="errored"&&i?i:a,l.createElement(St,{chartLanguage:r,chartPackages:t,chartVersion:e,mapsApiKey:o,onLoad:this.onLoad,onError:this.onError}))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}isFullyLoaded(r){const{controls:t,toolbarItems:e,getChartEditor:o}=this.props;return r&&r.visualization&&r.visualization.ChartWrapper&&r.visualization.Dashboard&&(!t||r.visualization.ChartWrapper)&&(!o||r.visualization.ChartEditor)&&(!e||r.visualization.drawToolbar)}constructor(...r){super(...r),this._isMounted=!1,this.state={loadingStatus:"loading",google:null},this.onLoad=t=>{if(this.props.onLoad&&this.props.onLoad(t),this.isFullyLoaded(t))this.onSuccess(t);else{const e=setInterval(()=>{const o=window.google;this._isMounted?o&&this.isFullyLoaded(o)&&(clearInterval(e),this.onSuccess(o)):clearInterval(e)},1e3)}},this.onSuccess=t=>{this.setState({loadingStatus:"ready",google:t})},this.onError=()=>{this.setState({loadingStatus:"errored"})}}}S.defaultProps=Y;var V;(function(n){n.annotation="annotation",n.annotationText="annotationText",n.certainty="certainty",n.emphasis="emphasis",n.interval="interval",n.scope="scope",n.style="style",n.tooltip="tooltip",n.domain="domain"})(V||(V={}));function Vt(n){const r=n.productionLines.map(o=>[o.name,o.producedCars]),t=[["Production line","Production Steps"],...r],e={title:"Production Lines and Produced Cars",sliceVisibilityThreshold:0};return d.jsx(S,{chartType:"Line",width:"100%",height:"800px",data:t,options:e})}function Rt(n){const r=n.productionLines.map(o=>[o.name,o.producedCars]),t=[["Production line","Production Steps"],...r],e={title:"Production Lines and Produced Cars",sliceVisibilityThreshold:0};return d.jsx(d.Fragment,{children:d.jsx(S,{chartType:"BarChart",width:"100%",height:"800px",data:t,options:e})})}async function kt(n){return P.get("http://localhost:8080/production/carsFromOneVehicleModel/"+n).then(r=>r.data)}async function Bt(){return P.get("http://localhost:8080/production/allCars").then(n=>n.data)}async function qt(n){return P.get("http://localhost:8080/production/carsFromOneProductionLine/"+n).then(r=>r.data)}async function Ut(n,r){return P.get("http://localhost:8080/production/carsFromOneProductionLineAndOneVehicleModel/"+n+"/"+r).then(t=>t.data)}function Gt(n){const r=n.productionLines.map(o=>[o.name,o.producedCars]),t=[["Production line","Production Steps"],...r],e={title:"Production Lines and Produced Cars",sliceVisibilityThreshold:0};return d.jsx(S,{chartType:"PieChart",width:"100%",height:"800px",data:t,options:e})}const Jt=ct("/statistics")({component:Kt});function Kt(){const[n,r]=l.useState(void 0),t=dt(s=>s.comparableProductionLines),[e,o]=l.useState(0),[a,i]=l.useState("");return l.useEffect(()=>{n===void 0||n.toString()==="total"?(t.forEach(s=>{a==="production"&&qt(s.uuid).then(h=>{s.producedCars=h})}),Bt().then(s=>{o(s)})):(t.forEach(s=>{Ut(s.uuid,n).then(h=>{s.producedCars=h})}),kt(n).then(s=>{o(s)}))},[n]),d.jsxs(Dt,{defaultValue:"line",className:"w-full",children:[d.jsxs(Q,{className:"flex justify-center bg-primary rounded-none",children:[d.jsx("div",{className:"p-0.5",children:d.jsxs(A,{onValueChange:s=>r(s),children:[d.jsx(_,{value:"TOTAL",className:"flex align-start",children:d.jsx(M,{placeholder:"Vehicle model"})}),d.jsxs(W,{children:[d.jsx(T,{value:"total",children:"Total"}),Object.values(ut).filter(s=>s.toString().length>1).map(s=>d.jsx(T,{value:s.toString(),children:s},s))]})]})}),d.jsx("div",{className:"p-0.5",children:d.jsxs(A,{onValueChange:s=>i(s),children:[d.jsx(_,{value:"time",className:"flex align-start",children:d.jsx(M,{placeholder:"Production"})}),d.jsxs(W,{children:[d.jsx(T,{value:"time",children:"Time"}),d.jsx(T,{value:"production",children:"Production"})]})]})}),d.jsx(w,{value:"line",children:d.jsx(gt,{})}),d.jsx(w,{value:"pie",children:d.jsx(pt,{})}),d.jsx(w,{value:"bar",children:d.jsx(ht,{})})]}),d.jsxs(D,{value:"line",children:[d.jsxs("h1",{children:["Produced cars: ",e]}),d.jsx(Vt,{mode:n,productionLines:t})]}),d.jsxs(D,{value:"pie",children:[d.jsxs("h1",{children:["Produced cars: ",e]}),d.jsx(Gt,{mode:n,productionLines:t})]}),d.jsxs(D,{value:"bar",children:[d.jsxs("h1",{children:["Produced cars: ",e]}),d.jsx(Rt,{mode:n,productionLines:t})]})]})}export{Jt as Route};
